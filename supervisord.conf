[supervisord]
nodaemon=true

# Program: Nginx
[program:nginx]
command=nginx -g "daemon off;"
directory=/usr/share/nginx
autostart=true
autorestart=true
stderr_logfile=/var/log/nginx.err.log
stdout_logfile=/var/log/nginx.out.log

# Program: Backend (Spring Boot)
[program:backend]
command=java -jar /app/backend/backend.jar
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/backend.err.log
stdout_logfile=/var/log/backend.out.log

# Keep the container running
[program:tail]
command=tail -f /dev/null
autostart=true
autorestart=true
stderr_logfile=/var/log/tail.err.log
stdout_logfile=/var/log/tail.out.log
